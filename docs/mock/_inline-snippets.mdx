```Python
def number_of_nested_plateaus(X: list[int]) -> int:
	r = 0
	N = len(X)
	if N >= 2:
		n = N; i = 0
		while i < n:
			j = i + 1
			while j < n and X[j - 1] == X[j]:
				j = j + 1
			if j - i > 1:
				r = r + 1
				X = X[: i] + X[j :]
				n = n - (j - i)
				i = 0
			else:
				i = i + 1
	return r
```
