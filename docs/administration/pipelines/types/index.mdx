# Pipeline Types

**Director** organizes pipelines into distinct types based on their role in log processing and their position in the data flow. Each type serves a specific purpose and operates at a different stage of the processing lifecycle.

## Overview

The pipeline types are designed to handle different aspects of log processing:

```mermaid
flowchart LR
  A[Sources] --> B[Pre-processing]
  B --> C[Routing]
  C --> D[Post-processing]
  D --> E[Targets]
```

Each stage performs specific transformations:

1. **Pre-processing**: Prepares incoming data
2. **Routing**: Directs traffic based on rules
3. **Post-processing**: Finalizes data for targets

## Pre-processing Pipelines

Pre-processing pipelines are attached to sources and prepare data before it enters the routing stage. They focus on:

### Data Reduction
- Filtering unnecessary events
- Removing redundant fields
- Sampling high-volume data
- Aggregating similar events

### Initial Normalization
- Field standardization
- Format conversion
- Time normalization
- Protocol standardization

### Early Enrichment
- Geolocation data
- Asset information
- Basic threat intelligence
- Custom metadata

## Post-processing Pipelines

Post-processing pipelines are attached to targets and perform final transformations before data storage or analysis:

### Format Finalization
- Target-specific formatting
- Schema alignment
- Final field mapping

### Storage Optimization
- Compression configuration
- Index preparation
- Partition strategy
- Retention setup

### Integration Requirements
- Target-specific transformations
- Protocol adaptation
- Authentication preparation
- Error handling

## Normalization Pipelines

Normalization pipelines handle the conversion between different log formats throughout the processing chain:

### Standard Formats
- ECS (Elastic Common Schema)
- CIM (Common Information Model)
- ASIM (Advanced Security Information Model)
- CEF (Common Event Format)
- LEEF (Log Event Extended Format)
- CSL (Common Security Log)

### Key Transformations
- Field name standardization
- Data type normalization
- Structure unification
- Time format alignment

## Benefits of Type Separation

### Clear Responsibilities
- Each pipeline type has a specific role
- Easier to maintain and debug
- Better performance optimization
- Clearer error handling

### Optimized Performance
- Reduced processing overhead
- Better resource utilization
- Improved scalability
- More efficient routing

### Enhanced Maintainability
- Modular architecture
- Easier updates
- Better testing
- Clearer documentation

## Best Practices

### Pipeline Design
- Keep pipelines focused on their type's purpose
- Minimize cross-type dependencies
- Use appropriate processors for each stage
- Document type-specific requirements

### Performance Optimization
- Process heavy transformations early
- Optimize routing decisions
- Minimize redundant processing
- Monitor type-specific metrics

### Error Handling
- Implement stage-appropriate error handling
- Use type-specific failure responses
- Maintain clear error boundaries
- Log errors with context

:::tip
Design your pipelines with their type in mind. Each type has specific goals and optimizations that work best at their stage in the processing lifecycle.
:::

:::warning
Avoid mixing responsibilities between pipeline types. Keep pre-processing, routing, and post-processing concerns separate for better maintainability and performance.
:::