# Configuration

The **Directors** web interface provides comprehensive management capabilities for Director deployment, configuration, and monitoring through an intuitive graphical dashboard.

## Accessing Directors Dashboard

Navigate to the Directors management interface:

- Go to **Home** > **Fleet Management** > **Directors**

-or-

- Click the hamburger menu on the top left
- Select **Fleet Management** > **Directors**

## Directors Overview

The Directors dashboard provides centralized visibility and control over all Director instances across your infrastructure.

### Directors Table

The main table displays all configured Directors with the following columns:

- **Name** - Unique identifier assigned during Director creation
- **Mode** - Management type (Managed or Self-Managed)
- **Installation Type** - Architecture (Standalone or Cluster)
- **Status** - Operational state (Enabled or Disabled)
- **Connection Status** - Real-time connectivity (Connected or Not Connected)
- **Actions Menu (⋮)** - Per-Director operations

### Configuration Change Indicator

For **Self-Managed** Directors, a warning icon appears next to the Mode when configuration has changed:

- **Warning Icon** - Orange/yellow alert indicator
- **Tooltip** - "Configuration has changed and the current one has to be deployed"
- **Action Required** - Download updated configuration file and deploy to Director

### Table Controls

**Search and Filter:**
- **Search directors** - Filter by Director name in search field
- **Status Dropdown** - Filter by operational status:
  - All - Show all Directors regardless of status
  - Enabled - Show only active Directors
  - Disabled - Show only inactive Directors
- **Refresh Button** - Reload table data with current filters

**Primary Actions:**
- **Create director** - Launch Director creation wizard (requires DIRECTOR_CREATE permission)

### Director Actions Menu

Each Director row provides an Actions menu (⋮) with context-specific operations:

**View Details:**
- **See details** - Navigate to Director detail view

**Status Management:**
- **Enable Director** - Activate disabled Director
- **Disable Director** - Deactivate enabled Director

**Configuration:**
- **Download Config** - Download vmetric.vmf configuration file (Self-Managed only)

**Deletion:**
- **Delete Director** - Remove Director from platform

## Create Director Wizard

The Director creation process guides you through a 3-step wizard with validation and connection verification.

### Step 1: Director Setup

**Director Configuration:**

1. **Director Name**
   - Enter unique identifier for the Director
   - Minimum length: 3 characters
   - Maximum length: 50 characters
   - Used for identification across the platform

2. **Installation Type Selection**

   Choose Director architecture using radio tiles:

   **Standalone:**
   - Single Director instance
   - Simplified management
   - Suitable for most deployments
   - Quick setup process

   **Cluster:** *(Coming Soon)*
   - Multiple Director instances
   - High availability
   - Load balancing capabilities
   - Enterprise-grade reliability
   - Currently displays "Coming Soon" badge

3. **Mode Selection**

   Select management approach for the Director:

   **Managed:**
   - VirtualMetric manages Director infrastructure
   - Automated updates and maintenance
   - Proactive monitoring and support
   - Reduced operational overhead
   - Enterprise feature

   **Self-Managed:**
   - User controls Director deployment
   - Manual update management
   - Custom security configurations
   - Full infrastructure control
   - Standard deployment option

### Step 2: Installation Type

*(Note: In current implementation, this step is consolidated into Step 1)*

Installation type configuration integrated into Director Setup step for streamlined workflow.

### Step 3: Connect Director

**Installation Command Display:**

The final step provides platform-specific installation scripts and connection verification:

**Installation Scripts:**
- **PowerShell Script** - For Windows deployments
- **Bash Script** - For Linux/macOS deployments
- **Copy Button** - One-click copy to clipboard
- **API Key** - Auto-generated secure authentication key included in scripts

**Connection Verification:**

After running the installation script, verify Director connectivity:

**Connection Status Indicator:**
- **Connecting** - Director attempting initial connection
- **Success** - Director successfully connected to platform
- **Failed** - Connection attempt unsuccessful

**Progress Display:**
- Real-time connection status updates
- Visual indicators for each connection state
- Error messages for failed connections

**Completion Options:**

**Connected Successfully:**
- **Complete Setup** - Finalize and navigate to Director detail view
- Automatic redirect to Director detail page

**Not Yet Connected:**
- **Connect Later** - Save Director configuration without connection verification
- **Complete Setup** - Disabled until successful connection
- Return later to verify connection and complete setup

### Wizard Navigation

**Progress Indicator:**
- Visual step progress at top of wizard
- Click steps to navigate (forward only after validation)
- Current step highlighted
- Completed steps marked with checkmark
- Invalid steps marked with error indicator

**Navigation Buttons:**
- **Cancel/Connect Later** - Exit wizard (label changes on final step)
- **Create Director** - Advance to next step with validation
- **Complete Setup** - Finalize Director creation (final step)

## Director Detail View

Clicking a Director from the overview table opens the detailed management interface with three tabbed panels.

### Director Details Tab

**Director Information:**

View and edit Director configuration through editable tiles:

**General Information:**
- **Director Name** - Editable unique identifier
- **Mode** - Management type (Managed or Self-Managed)
- **Installation Type** - Architecture (Standalone or Cluster)
- **Status** - Current operational state
- **Connection Status** - Real-time connectivity indicator

**Edit Functionality:**
- Edit icon on tiles for inline editing
- Save changes with validation
- Cancel to discard modifications
- Real-time validation feedback

### Connection Details Tab

**Installation Command Panel:**

Access installation and reinstallation resources:

**Installation Scripts:**
- Platform-specific installation commands
- PowerShell script for Windows
- Bash script for Linux/macOS
- Copy button for easy clipboard access

**API Key Management:**
- Display current API key
- Regenerate API key when needed
- Update scripts with new key automatically

**Reinstallation Process:**
- Access reinstallation commands
- Use when Director needs redeployment
- Maintains configuration and settings
- Preserves Director identity and connections

### Activity Logs Tab

**Director Activity History:**

Track Director operations and lifecycle events through comprehensive activity logging:

**Activity Table Columns:**
- **Timestamp** - Date and time of activity
- **Action** - Operation performed
- **Status** - Result of action (Success, Failed, Pending)
- **Details** - Additional context for activity

**Activity Types:**
- Director created
- Director enabled/disabled
- Configuration changes
- Connection events
- Update operations
- Status changes

**Table Features:**
- Search activities by action or details
- Sort by timestamp, action, or status
- Pagination for large activity logs
- Export activity history

## Director Operations

### Enable/Disable Director

**Enable Director:**

Activate a disabled Director to resume operations:

1. Navigate to Director detail view
2. Click **Actions** menu
3. Select **Enable Director**
4. Confirmation notification displays success
5. Director status updates to "Enabled"
6. Connection status becomes active

**Disable Director:**

Deactivate an enabled Director to pause operations:

1. Navigate to Director detail view
2. Click **Actions** menu
3. Select **Disable Director**
4. Confirmation notification displays success
5. Director status updates to "Disabled"
6. Stops processing data but preserves configuration

### Download Configuration

**For Self-Managed Directors:**

Download the current Director configuration file for deployment:

1. Navigate to Director detail view
2. Click **Actions** menu
3. Select **Download Config**
4. System downloads `vmetric.vmf` file to browser's Downloads directory
5. Deploy file to `<vm_root>/Director/config/` directory on Director server

**Configuration Update Workflow:**

When configuration changes occur:
- Warning icon appears next to "Self-managed" mode indicator
- Tooltip indicates deployment needed
- Download updated config file
- Replace existing config on Director server
- Restart Director service to apply changes

### Delete Director

**Delete Director Process:**

Remove a Director from the platform with dependency checking:

1. Navigate to Director detail view (or use Actions menu from overview)
2. Click **Actions** menu
3. Select **Delete Director**
4. Deletion modal appears with confirmation

**Standard Deletion:**
- Confirm Director name matches
- Click **Delete** to proceed
- Success notification confirms deletion
- Redirect to Directors overview

**Deletion with Dependencies:**

If Director has active dependencies, error modal displays:

**Error Modal Contents:**
- "Cannot delete Director" message
- **Devices** - List of devices using this Director
- **Agents** - List of agents connected to this Director
- **Action Required** - Remove or reassign dependencies before deletion

**Dependency Resolution:**
1. Note listed devices and agents
2. Reassign devices to different Director or delete
3. Reassign agents to different Director or delete
4. Retry Director deletion after dependencies removed

## Notifications

The Directors interface provides automatic notifications for all operations:

### Success Notifications

Auto-dismissing success messages (10-second timeout):

- **Director Created (Connected)** - New Director successfully created and connected
- **Director Created (Not Connected)** - New Director created but connection pending
- **Director Enabled** - Director successfully activated
- **Director Disabled** - Director successfully deactivated
- **Director Deleted** - Director successfully removed from platform

### Error Notifications

Persistent error notifications requiring user action:

- **Enable Failed** - Director could not be enabled
- **Disable Failed** - Director could not be disabled
- **Delete Failed** - Director deletion unsuccessful
- **Configuration Download Error** - Config file download failed with timestamp

### Notification Actions

**Auto-Close:**
- Success notifications auto-dismiss after 10 seconds
- Hover to pause auto-close timer
- Click X to manually dismiss

**Manual Dismiss:**
- Error notifications require manual dismissal
- Review error details before dismissing
- Take corrective action based on error message

## Director Management Best Practices

### Configuration Management

**Self-Managed Directors:**
- Monitor configuration change indicators regularly
- Download and deploy config updates promptly
- Test configuration changes in non-production first
- Maintain configuration version history

**Managed Directors:**
- VirtualMetric handles configuration updates automatically
- Monitor activity logs for automated changes
- Review notifications for update confirmations

### Status Monitoring

**Connection Status:**
- Regularly verify "Connected" status in overview table
- Investigate "Not Connected" status immediately
- Check Activity Logs for connection event history
- Review Director logs for connectivity issues

**Operational Status:**
- Keep Directors "Enabled" for active data processing
- Use "Disabled" status for maintenance windows
- Document reason for status changes in external systems
- Monitor activity logs for unexpected status changes

### Lifecycle Management

**Creation:**
- Use descriptive, meaningful Director names
- Select appropriate Mode for operational requirements
- Verify connection before completing setup
- Document Director purpose and deployment details

**Maintenance:**
- Review Activity Logs periodically
- Keep Directors updated with latest configurations
- Monitor connection status for reliability
- Test configuration changes before deployment

**Deletion:**
- Verify no active dependencies before deletion
- Document reason for Director removal
- Archive Activity Logs for compliance
- Reassign workloads to remaining Directors
