---
description: Wraps text to specified widths by inserting line breaks
sidebar_custom_props:
  customCategory: Text Processing
  customIcon: ðŸ“‹
---

# Text Wrap

<span className="theme-doc-version-badge badge badge--primary">Text Processing</span><span className="theme-doc-version-badge badge badge--secondary">Formatting</span>

## Synopsis

Wraps text to specified widths by inserting line breaks.

## Schema

```yaml {2,3}
- text_wrap:
    field: <ident>
    width: <integer>
    target_field: <ident>
    indent: <string>
    line_separator: <string>
    break_long_words: <boolean>
    preserve_lines: <boolean>
    trim_whitespace: <boolean>
    description: <text>
    if: <script>
    ignore_failure: <boolean>
    ignore_missing: <boolean>
    on_failure: <processor[]>
    on_success: <processor[]>
    tag: <string>
```

## Configuration

The following fields are used to define the processor:

|Field|Required|Default|Description|
|---|---|---|---|
|`field`|Y|-|Source field containing text to wrap|
|`width`|Y|-|Maximum line width in characters|
|`target_field`|N|Same as `field`|Target field to store wrapped text|
|`indent`|N|-|String to indent each line (e.g., "  " for spaces)|
|`line_separator`|N|`\n`|Line separator character|
|`break_long_words`|N|`false`|Break words longer than width|
|`preserve_lines`|N|`false`|Preserve existing line breaks|
|`trim_whitespace`|N|`false`|Trim whitespace from lines|
|`description`|N|-|Explanatory note|
|`if`|N|-|Condition to run|
|`ignore_failure`|N|`false`|Continue processing if wrapping fails|
|`ignore_missing`|N|`false`|Skip processing if referenced field doesn't exist|
|`on_failure`|N|-|See <Topic id="pipelines-handling-failures">Handling Failures</Topic>|
|`on_success`|N|-|See <Topic id="pipelines-handling-success">Handling Success</Topic>|
|`tag`|N|-|Identifier|

## Details

Formats text by inserting line breaks at specified intervals to ensure lines don't exceed the maximum width. The processor can break at word boundaries for readability or at exact character positions for fixed-width requirements.

The processor supports various formatting options including custom indentation, line break characters, and word-boundary preservation.

:::note
When `break_long_words` is disabled (default), words longer than the specified width will not be broken. When enabled, long words will be split to fit within the width limit.
:::

The processor handles Unicode characters correctly and counts display width rather than byte length, ensuring proper formatting for international text.

:::warning
Very long words that exceed the specified width will remain unbroken unless `break_long_words` is enabled.
:::

## Examples

### Basic Text Wrapping

<ExampleGrid>
  <CommentCol>
    Wrapping long text to 40-character lines...
  </CommentCol>
  <CodeCol>
    ```json
    {
      "description": "This is a very long description that needs to be formatted for better readability in documentation or display purposes."
    }
    ```
    ```yaml
    - text_wrap:
        field: description
        width: 40
        target_field: formatted_text
    ```
  </CodeCol>
  <CommentCol>
    creates formatted multi-line text:
  </CommentCol>
  <CodeCol>
    ```json
    {
      "description": "This is a very long description...",
      "formatted_text": "This is a very long description that\nneeds to be formatted for better\nreadability in documentation or display\npurposes."
    }
    ```
  </CodeCol>
</ExampleGrid>

### Code Comment Formatting

<ExampleGrid>
  <CommentCol>
    Formatting code comments with indentation...
  </CommentCol>
  <CodeCol>
    ```json
    {
      "comment": "This function processes user authentication requests and validates credentials against the database before returning access tokens."
    }
    ```
    ```yaml
    - text_wrap:
        field: comment
        width: 50
        indent: "// "
        target_field: code_comment
    ```
  </CodeCol>
  <CommentCol>
    creates indented code comments:
  </CommentCol>
  <CodeCol>
    ```json
    {
      "comment": "This function processes user authentication...",
      "code_comment": "// This function processes user authentication\n// requests and validates credentials against the\n// database before returning access tokens."
    }
    ```
  </CodeCol>
</ExampleGrid>

### Fixed-width Formatting

<ExampleGrid>
  <CommentCol>
    Creating fixed-width text without word breaks...
  </CommentCol>
  <CodeCol>
    ```json
    {
      "log_message": "SystemStartupInitializationCompleted"
    }
    ```
    ```yaml
    - text_wrap:
        field: log_message
        width: 15
        break_long_words: true
        target_field: wrapped_log
    ```
  </CodeCol>
  <CommentCol>
    breaks at exact character positions:
  </CommentCol>
  <CodeCol>
    ```json
    {
      "log_message": "SystemStartupInitializationCompleted",
      "wrapped_log": "SystemStartupIn\nitializationCo\nmpleted"
    }
    ```
  </CodeCol>
</ExampleGrid>

### Custom Line Breaks

<ExampleGrid>
  <CommentCol>
    Using custom line break characters...
  </CommentCol>
  <CodeCol>
    ```json
    {
      "tags": "authentication authorization logging monitoring security audit compliance"
    }
    ```
    ```yaml
    - text_wrap:
        field: tags
        width: 20
        line_separator: " | "
        target_field: tag_list
    ```
  </CodeCol>
  <CommentCol>
    uses custom separator:
  </CommentCol>
  <CodeCol>
    ```json
    {
      "tags": "authentication authorization logging monitoring security audit compliance",
      "tag_list": "authentication | authorization logging | monitoring security | audit compliance"
    }
    ```
  </CodeCol>
</ExampleGrid>

### Email Formatting

<ExampleGrid>
  <CommentCol>
    Formatting email content with line length limits...
  </CommentCol>
  <CodeCol>
    ```json
    {
      "email_body": "Dear customer, we are writing to inform you about important changes to our service terms and conditions that will take effect next month."
    }
    ```
    ```yaml
    - text_wrap:
        field: email_body
        width: 72
        target_field: formatted_email
    ```
  </CodeCol>
  <CommentCol>
    formats for email standards:
  </CommentCol>
  <CodeCol>
    ```json
    {
      "email_body": "Dear customer, we are writing to inform you about important...",
      "formatted_email": "Dear customer, we are writing to inform you about important changes\nto our service terms and conditions that will take effect next month."
    }
    ```
  </CodeCol>
</ExampleGrid>