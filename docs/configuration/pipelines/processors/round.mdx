---
description: Rounds numeric values to a specified precision
---

# Round

## Synopsis

```yaml {2-4}
- round:
  field: <ident>
  value: <string>
  precision: <numeric>
  description: <text>
  if: <script>
  ignore_failure: <boolean>
  ignore_missing: <boolean>
  on_failure: <processor[]>
  on_success: <processor[]>
  tag: <string>
```

## Description

**Functionality**: Rounds a numeric value to a specified number of decimal places and stores the result in the target field. The processor can extract values from existing fields or use literal numeric values.

This processor is useful for normalizing numeric data, improving readability, ensuring consistent precision across values, and preparing data for display or further calculations.

## Parameters

|Field|Required|Default|Description|
|---|---|---|---|
|`field`|Y|-|Target field to store the rounded value|
|`value`|Y|-|Value to round - can be a literal value or field reference|
|`precision`|Y|-|Number of decimal places to round to|
|`description`|N|-|Explanatory note|
|`if`|N|-|Condition to run|
|`ignore_failure`|N|`false`|Continue processing if rounding fails|
|`ignore_missing`|N|`false`|Skip if referenced fields don't exist|
|`on_failure`|N|-|Error handling processors|
|`on_success`|N|-|Success handling processors|
|`tag`|N|-|Identifier|

## Examples

### Basic Rounding

<ExampleGrid>
  <CommentCol>
    Round a value to the nearest integer...
  </CommentCol>
  <CodeCol>
    ```json
    {
      "raw_value": 123.456
    }
    ```
    ```yaml
    - round:
        field: rounded_value
        value: "raw_value"
        precision: 0
    ```
  </CodeCol>
  <CommentCol>
    rounds to whole number:
  </CommentCol>
  <CodeCol>
    ```json
    {
      "raw_value": 123.456,
      "rounded_value": 123
    }
    ```
  </CodeCol>
</ExampleGrid>

### Specific Decimal Precision

<ExampleGrid>
  <CommentCol>
    Round to two decimal places...
  </CommentCol>
  <CodeCol>
    ```json
    {
      "metrics": {
        "cpu_usage": 76.54321
      }
    }
    ```
    ```yaml
    - round:
        field: metrics.cpu_usage_rounded
        value: "metrics.cpu_usage"
        precision: 2
    ```
  </CodeCol>
  <CommentCol>
    provides consistent precision:
  </CommentCol>
  <CodeCol>
    ```json
    {
      "metrics": {
        "cpu_usage": 76.54321,
        "cpu_usage_rounded": 76.54
      }
    }
    ```
  </CodeCol>
</ExampleGrid>

### In-Place Rounding

<ExampleGrid>
  <CommentCol>
    Update a field with its rounded value...
  </CommentCol>
  <CodeCol>
    ```json
    {
      "financial": {
        "price": 19.9999
      }
    }
    ```
    ```yaml
    - round:
        field: financial.price
        value: "financial.price"
        precision: 2
    ```
  </CodeCol>
  <CommentCol>
    modifies the original field:
  </CommentCol>
  <CodeCol>
    ```json
    {
      "financial": {
        "price": 20.00
      }
    }
    ```
  </CodeCol>
</ExampleGrid>

### Batch Rounding

<ExampleGrid>
  <CommentCol>
    Apply consistent rounding to multiple values...
  </CommentCol>
  <CodeCol>
    ```json
    {
      "statistics": {
        "mean": 42.4382,
        "median": 39.9951,
        "std_dev": 5.6728
      }
    }
    ```
    ```yaml
    - round:
        field: statistics.mean
        value: "statistics.mean"
        precision: 2
    - round:
        field: statistics.median
        value: "statistics.median"
        precision: 2
    - round:
        field: statistics.std_dev
        value: "statistics.std_dev"
        precision: 2
    ```
  </CodeCol>
  <CommentCol>
    standardizes precision across all statistics:
  </CommentCol>
  <CodeCol>
    ```json
    {
      "statistics": {
        "mean": 42.44,
        "median": 40.00,
        "std_dev": 5.67
      }
    }
    ```
  </CodeCol>
</ExampleGrid>

### Formatting for Display

<ExampleGrid>
  <CommentCol>
    Prepare values for user display...
  </CommentCol>
  <CodeCol>
    ```json
    {
      "sensor": {
        "temperature": 22.74659,
        "humidity": 45.32185,
        "pressure": 1013.25823
      }
    }
    ```
    ```yaml
    - round:
        field: sensor.temperature_display
        value: "sensor.temperature"
        precision: 1
    - round:
        field: sensor.humidity_display
        value: "sensor.humidity"
        precision: 0
    - round:
        field: sensor.pressure_display
        value: "sensor.pressure"
        precision: 1
    ```
  </CodeCol>
  <CommentCol>
    creates display-friendly values:
  </CommentCol>
  <CodeCol>
    ```json
    {
      "sensor": {
        "temperature": 22.74659,
        "humidity": 45.32185,
        "pressure": 1013.25823,
        "temperature_display": 22.7,
        "humidity_display": 45,
        "pressure_display": 1013.3
      }
    }
    ```
  </CodeCol>
</ExampleGrid>

:::note
Rounding uses half to even (banker's rounding) when the fractional part is exactly 0.5. This method is statistically unbiased and is the default for IEEE 754 floating-point operations.
:::

:::warning
Very large numbers might lose precision during floating-point operations. Consider using a different approach for values that require exact decimal representation, such as currency amounts in financial applications.
:::