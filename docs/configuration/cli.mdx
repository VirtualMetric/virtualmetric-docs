# CLI

The following table lists all available command line switches for the vmetric-director.exe application:

| Switch | Description | Default Value | Possible Values |
|--------|-------------|---------------|-----------------|
| `-mode` | Specifies the operation mode | `director` | `director`, `supervisor`, `update`, `console`, `pipeline`, `sentinel`, `snmpwalk`, `generator`, `stats` |
| `-version` | Display version information | `false` | `true`, `false` |
| `-config` | Path to configuration file | | File path |
| `-path` | Installation path | | Directory path |
| `-pfx2pem` | Convert PFX certificate to PEM format | | File path |
| `-validate` | Validate configuration | `false` | `true`, `false` |
| `-example` | Show example configuration | `false` | `true`, `false` |
| `-compare-version` | Compare version with current | | Version string |
| `-supervisor` | Run in supervisor mode | `false` | `true`, `false` |
| `-update` | Run in update mode | `false` | `true`, `false` |
| `-console` | Run in console mode | `false` | `true`, `false` |
| `-pipeline` | Run in pipeline mode | `false` | `true`, `false` |
| `-sentinel` | Run in sentinel mode | `false` | `true`, `false` |
| `-snmpwalk` | Run in snmpwalk mode | `false` | `true`, `false` |
| `-generator` | Run in generator mode | `false` | `true`, `false` |
| `-stats` | Show statistics | `false` | `true`, `false` |
| `-service` | Service control operation | | `install`, `uninstall`, `start`, `stop`, `restart` |
| `-service-name` | Custom service name | | String |
| `-agentless` | Run without service installation | `false` | `true`, `false` |
| `-background` | Run in background | `false` | `true`, `false` |
| `-info` | Show service information | `false` | `true`, `false` |
| `-vpc` | Show product code | `false` | `true`, `false` |
| `-filter` | Filter log output (console mode) | | String |
| `-debug-level` | Debug level (console mode) | | Integer |
| `-autodiscovery` | Enable auto-discovery (sentinel mode) | `false` | `true`, `false` |
| `-clear` | Clear statistics (stats mode) | `false` | `true`, `false` |
| `-snmp-device-id` | SNMP device ID | | String |
| `-snmp-host` | SNMP host address | | IP/hostname |
| `-snmp-port` | SNMP port | `161` | Port number |
| `-snmp-version` | SNMP version | `2c` | `1`, `2c`, `3` |
| `-snmp-community` | SNMP community string | | String |
| `-snmp-oid` | SNMP OID | `.1.3` | OID string |
| `-name` | Pipeline name | | String |
| `-definition-id` | Pipeline definition ID | | String |
| `-input` | Pipeline input path | | File path |
| `-output` | Pipeline output path | | File path |
| `-expected` | Pipeline expected output path | | File path |
| `-diff` | Show diff in pipeline output | `false` | `true`, `false` |
| `-visualize` | Visualize pipeline | `false` | `true`, `false` |
| `-extended` | Extended pipeline output | `false` | `true`, `false` |
| `-export-json` | Export pipeline as JSON | `false` | `true`, `false` |
| `-protocol` | Generator protocol | `syslog` | `syslog`, `tcp`, `http`, `netflow`, `vmf` |
| `-address` | Generator target address | `127.0.0.1:514` | IP:port |
| `-severity` | Generator message severity | `Error` | Severity level |
| `-message` | Generator message | `VirtualMetric Test Message` | String |
| `-count` | Generator message count | `1000` | Integer |
| `-interval` | Generator interval in seconds | `1` | Integer |
| `-duration` | Generator duration in seconds | `300` | Integer |
| `-now` | Generate message immediately | `false` | `true`, `false` |
| `-file-path` | Generator input file path | | File path |
| `-stop` | Stop running process | `false` | `true`, `false` |
| `-director` | Run in director mode | `true` | `true`, `false` |

## Common Command Combinations

Based on the source code analysis, here are the valid combinations of switches for different operations:

### General Operations

- **Display Version Information**:

  ```
  vmetric-director.exe -version
  ```

- **Show Example Configuration**:

  ```
  vmetric-director.exe -example
  ```

- **Run Configuration Tool**:

  ```
  vmetric-director.exe -config [config_file_path]
  ```

- **Compare Version**:

  ```
  vmetric-director.exe -compare-version [version_string]
  ```

- **Convert PFX Certificate to PEM**:

  ```
  vmetric-director.exe -pfx2pem [certificate_path]
  ```

- **Validate Configuration**:

  ```
  vmetric-director.exe -validate
  ```
  
  -or-

  ```
  vmetric-director.exe -mode validate
  ```

### Service Management

- **Install Service**:

  ```
  vmetric-director.exe -service install [-service-name custom_name] [-path installation_path]
  ```

- **Uninstall Service**:

  ```
  vmetric-director.exe -service uninstall [-service-name custom_name]
  ```

- **Start Service**:

  ```
  vmetric-director.exe -service start [-service-name custom_name]
  ```

- **Stop Service**:

  ```
  vmetric-director.exe -service stop [-service-name custom_name]
  ```

- **Restart Service**:

  ```
  vmetric-director.exe -service restart [-service-name custom_name]
  ```

- **Run in Background (without service)**:

  ```
  vmetric-director.exe -background [-mode director|supervisor]
  ```

- **Run in Agentless Mode**:

  ```
  vmetric-director.exe -agentless [-mode director|supervisor]
  ```

- **Show Service Information**:

  ```
  vmetric-director.exe -info [-mode director|supervisor]
  ```

- **Show Product Code**:

  ```
  vmetric-director.exe -vpc [-mode director|supervisor]
  ```

- **Stop Running Process**:

  ```
  vmetric-director.exe -stop [-mode director|supervisor]
  ```

### Operational Modes

- **Console Mode**:

  ```
  vmetric-director.exe -mode console [-filter filter_string] [-debug-level level]
  ```

  -or-

  ```
  vmetric-director.exe -console [-filter filter_string] [-debug-level level]
  ```

- **Pipeline Mode**:

  ```
  vmetric-director.exe -mode pipeline -name [pipeline_name] [-path path] [-definition-id id] [-input input_file] [-output output_file] [-expected expected_file] [-filter filter] [-diff] [-validate] [-visualize] [-extended] [-export-json]
  ```

  -or-

  ```
  vmetric-director.exe -pipeline -name [pipeline_name] [-path path] [-definition-id id] [-input input_file] [-output output_file] [-expected expected_file] [-filter filter] [-diff] [-validate] [-visualize] [-extended] [-export-json]
  ```

- **Generator Mode**:
  ```
  vmetric-director.exe -mode generator [-protocol syslog|tcp|http|netflow|vmf] [-address target_address] [-severity level] [-message message_text] [-count message_count] [-interval seconds] [-duration seconds] [-now] [-file-path file_path]
  ```

  -or-

  ```
  vmetric-director.exe -generator [-protocol syslog|tcp|http|netflow|vmf] [-address target_address] [-severity level] [-message message_text] [-count message_count] [-interval seconds] [-duration seconds] [-now] [-file-path file_path]
  ```

- **Sentinel Mode**:

  ```
  vmetric-director.exe -mode sentinel [-autodiscovery]
  ```

  -or-

  ```
  vmetric-director.exe -sentinel [-autodiscovery]
  ```

- **SNMPWalk Mode**:

  ```
  vmetric-director.exe -mode snmpwalk -snmp-device-id [device_id] -snmp-host [host] [-snmp-port port] [-snmp-version 1|2c|3] [-snmp-community community_string] [-snmp-oid oid]
  ```

  -or-

  ```
  vmetric-director.exe -snmpwalk -snmp-device-id [device_id] -snmp-host [host] [-snmp-port port] [-snmp-version 1|2c|3] [-snmp-community community_string] [-snmp-oid oid]
  ```

- **Update Mode**:

  ```
  vmetric-director.exe -mode update
  ```

  -or-
  
  ```
  vmetric-director.exe -update
  ```

- **Supervisor Mode**:

  ```
  vmetric-director.exe -mode supervisor
  ```

  -or-

  ```
  vmetric-director.exe -supervisor
  ```

- **Statistics Mode**:

  ```
  vmetric-director.exe -mode stats [-clear]
  ```

  -or-

  ```
  vmetric-director.exe -stats [-clear]
  ```

- **Director Mode (Default)**:

  ```
  vmetric-director.exe
  ```

  -or-

  ```
  vmetric-director.exe -mode director
  ```
  
  -or-

  ```
  vmetric-director.exe -director
  ```

## Protocol-Specific Generator Configurations

- **Syslog Generator**:

  ```
  vmetric-director.exe -mode generator -protocol syslog -address 127.0.0.1:514 -severity Error -message "Test Message" -count 1000 -interval 1 -duration 300
  ```

- **TCP Generator**:

  ```
  vmetric-director.exe -mode generator -protocol tcp -address 127.0.0.1:9000 -message "Test Message" -count 1000 -interval 1 -duration 300
  ```

- **HTTP Generator**:

  ```
  vmetric-director.exe -mode generator -protocol http -address http://127.0.0.1:8080/logs -message "Test Message" -count 1000 -interval 1 -duration 300
  ```

- **Netflow Generator**:

  ```
  vmetric-director.exe -mode generator -protocol netflow -address 127.0.0.1:2055 -count 1000 -interval 1 -duration 300
  ```

- **VMF Generator**:

  ```
  vmetric-director.exe -mode generator -protocol vmf -file-path input.json -message "Test Message" -count 1000 -interval 1 -duration 300
  ```
