import Synopsis from "@site/src/components/Synopsis";

import Table from '@site/src/components/Table';
import TableBody from '@site/src/components/Table/TableBody';
import TableRow from '@site/src/components/Table/TableRow';
import TableCell from '@site/src/components/Table/TableCell';

# Compact

<Synopsis>
Removes all nested fields containing empty arrays or objects from a specified field recursively.
</Synopsis>

## Parameters

|Field|Required|Default|Description|
|---|---|---|---|
|`description`|N|-|Explanatory note|
|`if`|N|-|Condition to run|
|`ignore_failure`|N|`false`|See [Handling Failures](../handling-failures.mdx)|
|`on_failure`|N|-|See [Handling Failures](../handling-failures.mdx)|
|`on_success`|N|-|See [Handling Success](../handling-success.mdx)|
|`tag`|N|-|Identifier|

## Examples

<Table>
   <TableBody>
      <TableRow>
         <TableCell>
            This field...
         </TableCell>
         <TableCell>
            ```js
            {
               "foo": "bar",
               "bar": [],
               "baz": {
                  "this": {},
                  "that": 1
               },
               "qux": {}
            }
            ```
         </TableCell>
      </TableRow>
      <TableRow>
         <TableCell>
            ...is compacted as
         </TableCell>
         <TableCell>
            ```js
            {
               "foo": "bar",
               "baz": {
                  "that": 1
               },
            }
            ```
         </TableCell>
      </TableRow>
   </TableBody>
</Table>
