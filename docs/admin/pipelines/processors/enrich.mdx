# Enrich

<Synopsis>
Enriches data with data from another source.
</Synopsis>

This involves correlating data items to increase their semantic depth and relevance for the target. A typical example would be to grab the IP of a Website user, look up the IP range from a geolocation database, and infer what geographical region the user is using the site from.

Schematically, the process looks like this:

```mermaid
%%{init: {"flowchart": {"htmlLabels": false}} }%%
flowchart LR
	source1Box["`Source 1
		<code>A</code>
		<code>B</code>
	`"]
	source2Box["`Source 2
		<code>C</code>
	`"]
    	processorBox["`
			<code>v1=processor-1(A);</code>
			<code>v2=processor-2(B);</code>
			<code>v3=processor-3(C);</code>
			<code>E=v1+v2-v3</code>
	`"]
	targetBox["`Target
		<code>E</code>
	`"]
	source1Box --> processorBox;
	source2Box --> processorBox;
	processorBox --> targetBox
```

## Parameters

|Field|Required|Default|Description|
|---|---|---|---|
|`dataset_name`|Y|N/A|Field containing the dataset to be used for enrichment|
|`lookup_table`|Y|N/A|Field containing the table to be used to correlate with dataset|
|`query`|Y|N/A|Criteria to use against `lookup_table`|
|`description`|N|-|Explanatory note|
|`if`|N|-|Condition to run|
|`ignore_failure`|N|`false`|See [Handling Failures](../handling-failures.mdx)|
|`ignore_missing`|N|`false`|If `true` and `field` does not exist or is `null`, exit quietly without making any modifications|
|`on_failure`|N|-|See [Handling Failures](../handling-failures.mdx)|
|`on_success`|N|-|See [Handling Success](../handling-success.mdx)|
|`override`|N|`true`|Update fields with pre-existing values. If `false`, those fields are not touched|
|`tag`|N|-|Identifier|

## Examples

TODO: Write examples
