# Normalization

Normalization is the process of transforming the _structure_ of the data&mdash;whether that data is what is received from sources or what will be directed to destinations&mdash;in order to make it fit for processing downstream.

The motivation behind this is the fact that there are various different logging formats available whose schemas are not always compatible with each other. In order to be able to collate and correlate the information in these disparate formats, the data contained therein must be extracted and placed in pre-defined schemas designed to be better suited to analyses.

By doing so, normalization _decouples_ **Sources** from **Routes** and **Routes** from **Targets** due to the following reasons:

- the raw data streamed in from **Sources** in the format it arrives may not, and frequently does not, lend itself to the operations that may be carried out by the **Routes**
- the processed data streamed out from the **Routes** may not be, and frequently is not, easily consumable by the **Targets** for their analytic requirements

Normalization takes place in two places:

* between **Sources** and **Routes**: the purpose here is to prepare the data for the **Routes** that will select the relevant data points using their filters

```mermaid
graph LR
	subgraph Sources["`**Sources**
		S1
		S2
	`"]
	end
	subgraph Preprocessing["`**Preprocessing**
		Normalization
	`"]
	end
	subgraph Routes["`**Routes**
		...
	`"]
	end
	Sources --> Preprocessing
	Preprocessing --> Routes
```

* between **Routes** and **Targets**: the purpose here is to relay the data points for the post-procesing stage where they are prepared for specific **Targets**

```mermaid
graph LR
	subgraph Routes["`**Routes**
		...
	`"]
	end
	subgraph Postprocessing["`**Postprocessing**
		Normalization
	`"]
	end
	subgraph Targets["`**Targets**
		T1
		T2
		T3
	`"]
	end
	Routes --> Postprocessing
	Postprocessing --> Targets
```

Although the interim stages are both called normalization, the operations carried out in each are different due to the requirements of the next stage in the chain.
