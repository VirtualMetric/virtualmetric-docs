# HTTP

## Synopsis

```yaml
devices:
  - id: <numeric>
    name: <ip-numeric>
    description: <text>
    type: http
    status: <logical>
    properties:
      address: <string>
      port: <numeric>
      tls: <logical>
      cert_name: <string>
      key_name: <string>
      url: <string>
      content:
        type: <string>
      response:
        code: <numeric>
        body: <string>
      flush_interval: <numeric>
      queue:
        interval: <numeric>
      batch_size: <numeric>
```

## Description

Represents the HTTP protocol to listen to web data streams.

### Protocol Content

<dl>
	<dt>**Body**</dt>
		<hr style={{margin: "0px"}}/>
		<dd>Data being sent or received</dd>
		<dd>
			<dt>Request Body:</dt>
				<dd>Used with methods (e.g. `POST` or `PUT`) to send data</dd>
				<dt>Response Body:</dt>
				<dd>Contains the content of the response</dd>
		</dd>

	<dt>**Cookies**</dt>
		<hr style={{margin: "0px"}}/>
		<dd>Key-value pairs sent by the server to the client to store stateful information.</dd>
		<dd>Included in subsequent requests to the server</dd>

	<dt>**Headers**</dt>
		<hr style={{margin: "0px"}}/>
		<dd>Key-value pairs that provide metadata about the request or response</dd>
		<dd>
			<dt>Request Headers:</dt>
				<dd>`Accept`: Acceptable content types (e.g. `text/html`)</dd>
				<dd>`Authorization`: Credentials for authentication</dd>
				<dd>`Host`: Server's hostname</dd>
				<dd>`User-Agent`: Client making the request</dd>
			<dt>Response Headers:</dt>
				<dd>`Content-Length`: Size of the response body</dd>
				<dd>`Content-Type`: Type of content returned (e.g. `application/json`)</dd>
				<dd>`Server`: Information about the server handling the request</dd>
				<dd>`Set-Cookie`: Cookie in the client</dd>
		</dd>

	<dt>**Methods** (Request Type)</dt>
		<hr style={{margin: "0px"}}/>
		<dd>`DELETE`, `GET`, `POST`, `PUT`</dd>

	<dt>**Request Line** (for HTTP requests)</dt>
		<hr style={{margin: "0px"}}/>
		<dd>`DELETE`, `GET`, `HEAD`, `OPTIONS`, `PATCH`, `POST`, `PUT`</dd>

	<dt>**Status Codes** (Response Type)</dt>
		<hr style={{margin: "0px"}}/>
		<dd>**1xx**: Informational</dd>
		<dd>**2xx**: Success</dd>
		<dd>**3xx**: Redirection</dd>
		<dd>**4xx**: Client Error</dd>
		<dd>**5xx**: Server Error</dd>

	<dt>**Status Line** (for HTTP responses)</dt>
		<hr style={{margin: "0px"}}/>
		<dd>HTTP version used in the response</dd>
		<dd>
			<dt>Status Code: 3-digit code indicating the result of the request</dt>
				<dd>`200`: Request successful</dd>
				<dd>`301`: Resource moved Permanently</dd>
				<dd>`404`: Resource Not Found</dd>
				<dd>`500`: Internal Server Error</dd>
				<dd>Reason phrase: textual description of the status code</dd>
		</dd>

	<dt>**URI**  (Uniform Resource Identifier)</dt>
		<hr style={{margin: "0px"}}/>
		<dd>Resource being requested. Contains query fragments</dd>
</dl>

### Common Settings

<dl>
	<dt>**Protocol**</dt>
	<hr style={{margin: "0px"}}/>
		<dd>**HTTP** or **HTTPS**</dd>
	<dt>**Transport**</dt>
	<hr style={{margin: "0px"}}/>
		<dd>
			Typically relies on **TCP**
			<dt>Default ports:</dt>
				<dd>`80` for HTTP</dd>
				<dd>`443` for HTTPS</dd>
		</dd>
</dl>

## Parameters

|Field|Required|Default|Description|
|---|---|---|---|
|`id`|Y||Device identifier|
|`name`|Y|`127.0.0.1`|The ip used to refer to the device|
|`description`|N|-|Explanatory note|
|`type`|Y|`http`|The ip used to refer to the device|
|`status`|Y|`false`||

## `properties` Parameters

|Field|Required|Default|Description|
|---|---|---|---|
|`address`|Y|`"0.0.0.0"`||
|`port`||`0`||
|`tls`||`false`||
|`cert_name`||`""`||
|`key_name`||`""`||
|`url`||`""`||
|`content:`<br/><tab-ln/>`type`||`""`||
|`response:`<br/><tab-ln/>`code`||`200`||
|`response:`<br/><tab-ln/>`body`||`""`|
|`flush_interval`||`1`||
|`queue:`<br/><tab-ln/>`interval`||`1`||
|`batch_size`||`1000`||

## Use Cases

<details>
<summary>Sample code</summary>
```yaml
```
</details>

{/* TODO: Complete */}
