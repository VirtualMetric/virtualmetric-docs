import BasicConfig from "./_basic-config.mdx";

# TCP

## Synopsis

```ssml {5}
- id: <numeric>
  name: <ip-numeric>
  description: <text>
  type: tcp
  status: <logical>
  properties:
    address: <ip-string>
    port: <numeric>
    tls:
      status: <logical>
      cert_name: <string>
      key_name: <string>
    reuse: <logical>
    flush_interval: <numeric>
    queue:
      interval: <numeric>
    batch_size: <numeric>
    max_message_size: <numeric>
    framing: <enum>
    line_delimiter: <string>
    timeout: <numeric>
    max_connections: <numeric>
```

## Description

Represents the listener streaming data through the TCP protocol.

## Parameters

<BasicConfig />

### `properties:`

Device-specific settings.

|Field|Required|Default|Description|
|---|---|---|---|
|`address`|N|`"0.0.0.0"`|Listening address|
|`port`|Y|N/A|Listening port|
|`reuse`|N|`false`|Enable reuse of same address and port|
|`flush_interval`|N|`1`|Ingest flush interval in sec|
|`batch_size`|N|`1000`|Ingest batch size|
|`max_message_size`|N|20 * 1024 * 1024|Maximum message size in bytes|
|`framing`|N|delimiter|Framing method|
|`line_delimiter`|N|`"\\n"`|Delimiter character|
|`timeout`|N|`300`|Connection timeout in sec|
|`max_connections`|N|10000|Maximum connection count|

### `tls:`

Transport Layer Security settings.

|Field|Required|Default|Description|
|---|---|---|---|
|`status`|N|`false`|Enable TLS connection|
|`cert_name`|N|`"cert.pem"`|TLS certificate file path|
|`key_name`|N|`"key.pem`|TLS key file path|

### `queue:`

Ingester queue settings.

|Field|Required|Default|Description|
|---|---|---|---|
|`interval`|N|`1`|Ingest de-queue interval in sec|

## Examples

* VM example

<Details summary="Click to see">
```yaml
devices:
  - id: 324236543
    name: 127.0.0.1
    description: tcp
    type: tcp
    status: false
    properties:
      address: "0.0.0.0"
      port: 0
      tls:
        status: false
        cert_name: ""
        key_name: ""
      reuse: false
      flush_interval: 1
      queue:
        interval: 1
      batch_size: 1000
      max_message_size: 20971520
      framing: "delimiter"
      line_delimiter: "\\n"
      timeout: 300 # seconds
      max_connections: 10000
```
</Details>
