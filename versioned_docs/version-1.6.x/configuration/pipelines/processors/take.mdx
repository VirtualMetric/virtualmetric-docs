---
description: Extracts a specified number of characters or elements from strings and arrays
sidebar_custom_props: 
  customIcon: ✂️
  customCategory: Flow Control
---

# Take

<span className="theme-doc-version-badge badge badge--primary">Filter</span><span className="theme-doc-version-badge badge badge--secondary">Data Extraction</span>

## Synopsis

A data extraction processor that takes a specified number of characters from strings or elements from arrays, supporting extraction from the beginning or end of the data with optional reversal of the extracted content.

## Schema

```yaml {2}
- take:
    field: <ident>
    length: <string>
    target_field: <ident>
    reverse: <boolean>
    mirror: <boolean>
    description: <text>
    if: <script>
    ignore_failure: <boolean>
    ignore_missing: <boolean>
    on_failure: <processor[]>
    on_success: <processor[]>
    tag: <string>
```

## Configuration

The following fields are used to define the processor:

|Field|Required|Default|Description|
|---|---|---|---|
|`field`|Y|-|Field containing the string or array to process|
|`length`|N|all|Number of characters or elements to take|
|`target_field`|N|`field`|Field to store the extracted content|
|`reverse`|N|`false`|Take from end instead of beginning|
|`mirror`|N|`false`|Reverse the order of taken elements|
|`description`|N|-|Explanatory note|
|`if`|N|-|Condition to run|
|`ignore_failure`|N|`false`|Continue if extraction fails|
|`ignore_missing`|N|`false`|Continue if source field doesn't exist|
|`on_failure`|N|-|See <Topic id="pipelines-handling-failures">Handling Failures</Topic>|
|`on_success`|N|-|See <Topic id="pipelines-handling-success">Handling Success</Topic>|
|`tag`|N|-|Identifier|

## Details

The processor supports extraction from multiple data types including strings, string arrays, and generic interface arrays. When no length is specified, the entire content is returned.

:::note
The length parameter accepts string values for template compatibility and dynamic length calculation.
:::

String processing extracts the specified number of characters, while array processing extracts elements. The reverse option allows extraction from the end of the data, useful for getting file extensions or recent log entries.

The mirror option reverses the order of extracted content after taking, providing additional flexibility for data manipulation scenarios.

:::warning
Ensure the length parameter contains valid numeric values to avoid processing errors.
:::

## Examples

### String Character Extraction

<ExampleGrid>
  <CommentCol>
    Taking first characters from a string...
  </CommentCol>
  <CodeCol>
    ```json
    {
      "filename": "document.pdf",
      "message": "Hello World"
    }
    ```
    ```yaml
    - take:
        field: message
        length: "5"
        target_field: greeting
    ```
  </CodeCol>
  <CommentCol>
    extracts the beginning:
  </CommentCol>
  <CodeCol>
    ```json
    {
      "filename": "document.pdf",
      "message": "Hello World",
      "greeting": "Hello"
    }
    ```
  </CodeCol>
</ExampleGrid>

### File Extension Extraction

<ExampleGrid>
  <CommentCol>
    Taking last characters for extension...
  </CommentCol>
  <CodeCol>
    ```json
    {
      "filename": "report.xlsx"
    }
    ```
    ```yaml
    - take:
        field: filename
        length: "4"
        reverse: true
        target_field: extension
    ```
  </CodeCol>
  <CommentCol>
    extracts the file extension:
  </CommentCol>
  <CodeCol>
    ```json
    {
      "filename": "report.xlsx",
      "extension": "xlsx"
    }
    ```
  </CodeCol>
</ExampleGrid>

### Array Element Extraction

<ExampleGrid>
  <CommentCol>
    Taking elements from an array...
  </CommentCol>
  <CodeCol>
    ```json
    {
      "tags": ["urgent", "security", "network", "firewall", "alert"]
    }
    ```
    ```yaml
    - take:
        field: tags
        length: "3"
        target_field: primary_tags
    ```
  </CodeCol>
  <CommentCol>
    extracts first three elements:
  </CommentCol>
  <CodeCol>
    ```json
    {
      "tags": ["urgent", "security", "network", "firewall", "alert"],
      "primary_tags": ["urgent", "security", "network"]
    }
    ```
  </CodeCol>
</ExampleGrid>

### Recent Log Entries

<ExampleGrid>
  <CommentCol>
    Getting recent entries from end of array...
  </CommentCol>
  <CodeCol>
    ```json
    {
      "log_entries": [
        "2024-01-15 08:00:00 - System start",
        "2024-01-15 09:15:00 - User login",
        "2024-01-15 10:30:00 - File access",
        "2024-01-15 11:45:00 - Network error",
        "2024-01-15 12:00:00 - Error resolved"
      ]
    }
    ```
    ```yaml
    - take:
        field: log_entries
        length: "2"
        reverse: true
        target_field: recent_logs
    ```
  </CodeCol>
  <CommentCol>
    extracts the most recent entries:
  </CommentCol>
  <CodeCol>
    ```json
    {
      "log_entries": [
        "2024-01-15 08:00:00 - System start",
        "2024-01-15 09:15:00 - User login",
        "2024-01-15 10:30:00 - File access",
        "2024-01-15 11:45:00 - Network error",
        "2024-01-15 12:00:00 - Error resolved"
      ],
      "recent_logs": [
        "2024-01-15 11:45:00 - Network error",
        "2024-01-15 12:00:00 - Error resolved"
      ]
    }
    ```
  </CodeCol>
</ExampleGrid>

### Mirrored Text Extraction

<ExampleGrid>
  <CommentCol>
    Taking and reversing characters...
  </CommentCol>
  <CodeCol>
    ```json
    {
      "code": "ABC123XYZ"
    }
    ```
    ```yaml
    - take:
        field: code
        length: "6"
        mirror: true
        target_field: reversed_prefix
    ```
  </CodeCol>
  <CommentCol>
    extracts and reverses the prefix:
  </CommentCol>
  <CodeCol>
    ```json
    {
      "code": "ABC123XYZ",
      "reversed_prefix": "321CBA"
    }
    ```
  </CodeCol>
</ExampleGrid>

### In-Place Processing

<ExampleGrid>
  <CommentCol>
    Truncating field in place...
  </CommentCol>
  <CodeCol>
    ```json
    {
      "description": "This is a very long description that needs to be truncated for display purposes"
    }
    ```
    ```yaml
    - take:
        field: description
        length: "50"
    ```
  </CodeCol>
  <CommentCol>
    truncates the original field:
  </CommentCol>
  <CodeCol>
    ```json
    {
      "description": "This is a very long description that needs to be "
    }
    ```
  </CodeCol>
</ExampleGrid>
