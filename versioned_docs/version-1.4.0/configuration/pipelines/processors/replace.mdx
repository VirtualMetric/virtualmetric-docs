---
description: Performs string replacement operations with case-sensitive and case-insensitive options
sidebar_custom_props:
  customCategory: Data Manipulation
  customIcon: ðŸ”„
---

# Replace

<span className="theme-doc-version-badge badge badge--primary">Mutate</span><span className="theme-doc-version-badge badge badge--secondary">String Manipulation</span>

## Synopsis

Performs string replacement operations with case-sensitive and case-insensitive options.

## Schema

```yaml {2-4}
- replace:
    field: <ident>
    pattern: <string>
    replacement: <string>
    target_field: <string>
    replace_all: <boolean>
    case_sensitive: <boolean>
    description: <text>
    if: <script>
    ignore_failure: <boolean>
    ignore_missing: <boolean>
    on_failure: <processor[]>
    on_success: <processor[]>
    tag: <string>
```

## Configuration

The following fields are used to define the processor:

|Field|Required|Default|Description|
|---|---|---|---|
|`field`|Y|-|Source field containing string to process|
|`pattern`|Y|-|String pattern to search for|
|`replacement`|Y|-|String to replace matched pattern with|
|`target_field`|N|Same as `field`|Target field to store result|
|`replace_all`|N|`true`|Replace all occurrences (false = replace first only)|
|`case_sensitive`|N|`true`|Case-sensitive pattern matching|
|`description`|N|-|Explanatory note|
|`if`|N|-|Condition to run|
|`ignore_failure`|N|`false`|Continue processing if replacement fails|
|`ignore_missing`|N|`false`|Skip processing if referenced field doesn't exist|
|`on_failure`|N|-|See <Topic id="pipelines-handling-failures">Handling Failures</Topic>|
|`on_success`|N|-|See <Topic id="pipelines-handling-success">Handling Success</Topic>|
|`tag`|N|-|Identifier|

## Details

Performs literal string replacement operations with flexible matching options. The processor supports both case-sensitive and case-insensitive matching with options to replace all occurrences or just the first match.

The processor supports template substitution in the pattern field, allowing dynamic pattern matching based on other field values. The replacement string is used literally without template processing.

:::note
This processor performs literal string matching, not regular expression matching. For pattern-based replacements with wildcards or regex patterns, use the regex-replace processor instead.
:::

When `case_sensitive` is disabled, the processor performs case-insensitive matching while preserving the original case of surrounding text. Only the matched portion is replaced.

:::warning
If the pattern is an empty string, the processor skips replacement to prevent infinite loops or unexpected behavior. Set the pattern to a meaningful search string.
:::

## Examples

### Basic String Replacement

<ExampleGrid>
  <CommentCol>
    Replacing environment names in configuration...
  </CommentCol>
  <CodeCol>
    ```json
    {
      "config_path": "/app/config/dev/settings.yaml"
    }
    ```
    ```yaml
    - replace:
        field: config_path
        pattern: "/dev/"
        replacement: "/prod/"
        target_field: prod_config_path
    ```
  </CodeCol>
  <CommentCol>
    updates path for production:
  </CommentCol>
  <CodeCol>
    ```json
    {
      "config_path": "/app/config/dev/settings.yaml",
      "prod_config_path": "/app/config/prod/settings.yaml"
    }
    ```
  </CodeCol>
</ExampleGrid>

### Case-Insensitive Replacement

<ExampleGrid>
  <CommentCol>
    Replacing text regardless of case...
  </CommentCol>
  <CodeCol>
    ```json
    {
      "log_message": "ERROR: Database connection failed. Error details: connection timeout"
    }
    ```
    ```yaml
    - replace:
        field: log_message
        pattern: "error"
        replacement: "issue"
        case_sensitive: false
        target_field: cleaned_message
    ```
  </CodeCol>
  <CommentCol>
    replaces all case variations:
  </CommentCol>
  <CodeCol>
    ```json
    {
      "log_message": "ERROR: Database connection failed. Error details: connection timeout",
      "cleaned_message": "issue: Database connection failed. issue details: connection timeout"
    }
    ```
  </CodeCol>
</ExampleGrid>

### First Occurrence Only

<ExampleGrid>
  <CommentCol>
    Replacing only the first match...
  </CommentCol>
  <CodeCol>
    ```json
    {
      "filename": "log_2024_01_15_log_backup.txt"
    }
    ```
    ```yaml
    - replace:
        field: filename
        pattern: "log"
        replacement: "archive"
        replace_all: false
        target_field: archive_name
    ```
  </CodeCol>
  <CommentCol>
    replaces first occurrence only:
  </CommentCol>
  <CodeCol>
    ```json
    {
      "filename": "log_2024_01_15_log_backup.txt",
      "archive_name": "archive_2024_01_15_log_backup.txt"
    }
    ```
  </CodeCol>
</ExampleGrid>

### URL Path Modification

<ExampleGrid>
  <CommentCol>
    Updating API version in URLs...
  </CommentCol>
  <CodeCol>
    ```json
    {
      "api_endpoint": "https://api.example.com/v1/users/profile"
    }
    ```
    ```yaml
    - replace:
        field: api_endpoint
        pattern: "/v1/"
        replacement: "/v2/"
        target_field: updated_endpoint
    ```
  </CodeCol>
  <CommentCol>
    updates API version:
  </CommentCol>
  <CodeCol>
    ```json
    {
      "api_endpoint": "https://api.example.com/v1/users/profile",
      "updated_endpoint": "https://api.example.com/v2/users/profile"
    }
    ```
  </CodeCol>
</ExampleGrid>

### Sensitive Data Masking

<ExampleGrid>
  <CommentCol>
    Replacing sensitive information with placeholders...
  </CommentCol>
  <CodeCol>
    ```json
    {
      "sql_query": "SELECT * FROM users WHERE password='secret123' AND token='abc-xyz-789'"
    }
    ```
    ```yaml
    - replace:
        field: sql_query
        pattern: "secret123"
        replacement: "***MASKED***"
        target_field: safe_query
    ```
  </CodeCol>
  <CommentCol>
    masks sensitive values:
  </CommentCol>
  <CodeCol>
    ```json
    {
      "sql_query": "SELECT * FROM users WHERE password='secret123' AND token='abc-xyz-789'",
      "safe_query": "SELECT * FROM users WHERE password='***MASKED***' AND token='abc-xyz-789'"
    }
    ```
  </CodeCol>
</ExampleGrid>

### Hostname Standardization

<ExampleGrid>
  <CommentCol>
    Standardizing hostname formats...
  </CommentCol>
  <CodeCol>
    ```json
    {
      "server_list": "web01.local,web02.local,web03.local"
    }
    ```
    ```yaml
    - replace:
        field: server_list
        pattern: ".local"
        replacement: ".prod.company.com"
        target_field: production_servers
    ```
  </CodeCol>
  <CommentCol>
    updates all domain suffixes:
  </CommentCol>
  <CodeCol>
    ```json
    {
      "server_list": "web01.local,web02.local,web03.local",
      "production_servers": "web01.prod.company.com,web02.prod.company.com,web03.prod.company.com"
    }
    ```
  </CodeCol>
</ExampleGrid>

### Template Pattern Replacement

<ExampleGrid>
  <CommentCol>
    Using dynamic pattern from another field...
  </CommentCol>
  <CodeCol>
    ```json
    {
      "old_username": "john_temp",
      "message": "User john_temp logged in successfully. Welcome john_temp!"
    }
    ```
    ```yaml
    - replace:
        field: message
        pattern: "{{{old_username}}}"
        replacement: "john_doe"
        target_field: updated_message
    ```
  </CodeCol>
  <CommentCol>
    replaces using field value as pattern:
  </CommentCol>
  <CodeCol>
    ```json
    {
      "old_username": "john_temp",
      "message": "User john_temp logged in successfully. Welcome john_temp!",
      "updated_message": "User john_doe logged in successfully. Welcome john_doe!"
    }
    ```
  </CodeCol>
</ExampleGrid>

### Empty Pattern Handling

<ExampleGrid>
  <CommentCol>
    Handling empty pattern gracefully...
  </CommentCol>
  <CodeCol>
    ```json
    {
      "text": "Sample text for processing"
    }
    ```
    ```yaml
    - replace:
        field: text
        pattern: ""
        replacement: "replacement"
        target_field: result
    ```
  </CodeCol>
  <CommentCol>
    skips replacement with empty pattern:
  </CommentCol>
  <CodeCol>
    ```json
    {
      "text": "Sample text for processing",
      "result": "Sample text for processing"
    }
    ```
  </CodeCol>
</ExampleGrid>