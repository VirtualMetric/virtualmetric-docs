---
description: Finalizes processing and prevents further pipeline execution
sidebar_custom_props:
  customCategory: Flow Control
  customIcon: ⏹️
---

# Return

<span className="theme-doc-version-badge badge badge--primary">Control Flow</span><span className="theme-doc-version-badge badge badge--secondary">Pipeline</span>

## Synopsis

Finalizes processing and prevents further pipeline execution.

## Schema

```yaml {2}
- return:
    description: <text>
    if: <script>
    ignore_failure: <boolean>
    ignore_missing: <boolean>
    on_failure: <processor[]>
    on_success: <processor[]>
    tag: <string>
```

## Configuration

The following fields are used to define the processor:

|Field|Required|Default|Description|
|---|---|---|---|
|`description`|N|-|Explanatory note|
|`if`|N|-|Condition to run|
|`ignore_failure`|N|`false`|Continue processing if operation fails|
|`ignore_missing`|N|`false`|Skip processing if referenced field doesn't exist|
|`on_failure`|N|-|See <Topic id="pipelines-handling-failures">Handling Failures</Topic>|
|`on_success`|N|-|See <Topic id="pipelines-handling-success">Handling Success</Topic>|
|`tag`|N|-|Identifier|

## Details

Terminates pipeline execution immediately, preventing any subsequent processors from running. This processor is used to implement early termination logic, conditional exit points, and optimization paths that skip unnecessary processing.

When the return processor executes, it stops the current pipeline and marks the processing as complete. The data processed up to this point is preserved and passed to the next stage.

:::note
The return processor immediately stops pipeline execution. Any processors defined after a return statement will not be executed unless the return is conditional and the condition is not met.
:::

This processor is commonly used for implementing business logic that requires early exit conditions, such as filtering logic, error handling, or optimization scenarios.

:::warning
Return processors with success/failure chains will execute those chains before terminating the pipeline. This allows for cleanup operations or additional processing before exit.
:::

## Examples

### Basic Early Exit

<ExampleGrid>
  <CommentCol>
    Stopping pipeline execution early...
  </CommentCol>
  <CodeCol>
    ```yaml
    - set:
        field: processed
        value: true
    - return:
        description: "Exit after initial processing"
    - set:
        field: additional_processing
        value: true
    ```
  </CodeCol>
  <CommentCol>
    skips remaining processors:
  </CommentCol>
  <CodeCol>
    ```json
    {
      "processed": true
    }
    ```
  </CodeCol>
</ExampleGrid>

### Conditional Return

<ExampleGrid>
  <CommentCol>
    Exiting based on field conditions...
  </CommentCol>
  <CodeCol>
    ```yaml
    - return:
        if: "logEntry.skip_processing == true"
        description: "Skip processing when flag is set"
    - set:
        field: full_processing
        value: true
    - enrich:
        field: user_id
        target: user_details
    ```
  </CodeCol>
  <CommentCol>
    returns early when condition matches:
  </CommentCol>
  <CodeCol>
    ```json
    {
      "skip_processing": true
    }
    ```
  </CodeCol>
</ExampleGrid>

### Error Handling Return

<ExampleGrid>
  <CommentCol>
    Using return for error scenarios...
  </CommentCol>
  <CodeCol>
    ```yaml
    - validate:
        field: required_field
        exists: true
        on_failure:
          - set:
              field: error
              value: "Missing required field"
          - return:
              description: "Exit due to validation failure"
    - set:
        field: validation_passed
        value: true
    ```
  </CodeCol>
  <CommentCol>
    exits pipeline on validation failure:
  </CommentCol>
  <CodeCol>
    ```json
    {
      "error": "Missing required field"
    }
    ```
  </CodeCol>
</ExampleGrid>

### Return with Cleanup

<ExampleGrid>
  <CommentCol>
    Performing cleanup before exit...
  </CommentCol>
  <CodeCol>
    ```yaml
    - return:
        description: "Exit with cleanup operations"
        on_success:
          - set:
              field: exit_timestamp
              value: "{{now}}"
          - set:
              field: pipeline_status
              value: "completed_early"
    ```
  </CodeCol>
  <CommentCol>
    executes cleanup before termination:
  </CommentCol>
  <CodeCol>
    ```json
    {
      "exit_timestamp": "2024-01-15T10:30:00Z",
      "pipeline_status": "completed_early"
    }
    ```
  </CodeCol>
</ExampleGrid>

### Performance Optimization

<ExampleGrid>
  <CommentCol>
    Optimizing pipeline for specific data types...
  </CommentCol>
  <CodeCol>
    ```yaml
    - return:
        if: "logEntry.log_level == 'DEBUG' && logEntry.environment == 'production'"
        description: "Skip debug logs in production"
        on_success:
          - set:
              field: filtered_out
              value: true
    - enrich:
        field: log_data
        target: enriched_data
    - complex_analysis:
        field: enriched_data
    ```
  </CodeCol>
  <CommentCol>
    skips expensive processing for debug logs:
  </CommentCol>
  <CodeCol>
    ```json
    {
      "log_level": "DEBUG",
      "environment": "production",
      "filtered_out": true
    }
    ```
  </CodeCol>
</ExampleGrid>

### Multi-Path Exit Strategy

<ExampleGrid>
  <CommentCol>
    Different exit points for different scenarios...
  </CommentCol>
  <CodeCol>
    ```yaml
    - return:
        if: "logEntry.priority == 'low'"
        description: "Quick exit for low priority events"
        on_success:
          - set:
              field: processing_level
              value: "minimal"
    - return:
        if: "logEntry.priority == 'medium'"
        description: "Standard processing complete"
        on_success:
          - set:
              field: processing_level
              value: "standard"
    - set:
        field: processing_level
        value: "full"
    - advanced_processing:
        field: data
    ```
  </CodeCol>
  <CommentCol>
    exits at different points based on priority:
  </CommentCol>
  <CodeCol>
    ```json
    {
      "priority": "medium",
      "processing_level": "standard"
    }
    ```
  </CodeCol>
</ExampleGrid>