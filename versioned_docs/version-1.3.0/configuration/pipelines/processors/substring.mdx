---
description: Extracts substrings from string fields
sidebar_custom_props:
  customCategory: Text Processing
  customIcon: ✂️
---

# Substring

<span className="theme-doc-version-badge badge badge--primary">Text Processing</span><span className="theme-doc-version-badge badge badge--secondary">String Manipulation</span>

## Synopsis

Extracts substrings from string fields.

## Schema

```yaml {2-5}
- substring:
    field: <ident>
    start: <integer>
    end: <integer>
    length: <integer>
    target_field: <string>
    description: <text>
    if: <script>
    ignore_failure: <boolean>
    ignore_missing: <boolean>
    on_failure: <processor[]>
    on_success: <processor[]>
    tag: <string>
```

## Configuration

The following fields are used to define the processor:

|Field|Required|Default|Description|
|---|---|---|---|
|`field`|Y|-|Source field containing string to extract from|
|`start`|Y|-|Starting position (0-based index)|
|`end`|N|-|Ending position (exclusive, use with start)|
|`length`|N|-|Length of substring (use with start instead of end)|
|`target_field`|N|Same as `field`|Target field to store extracted substring|
|`description`|N|-|Explanatory note|
|`if`|N|-|Condition to run|
|`ignore_failure`|N|`false`|Continue processing if extraction fails|
|`ignore_missing`|N|`false`|Skip processing if referenced field doesn't exist|
|`on_failure`|N|-|See <Topic id="pipelines-handling-failures">Handling Failures</Topic>|
|`on_success`|N|-|See <Topic id="pipelines-handling-success">Handling Success</Topic>|
|`tag`|N|-|Identifier|

## Details

Extracts a portion of a string based on starting position and either ending position or length. The processor supports both zero-based indexing for precise character extraction and handles Unicode strings correctly.

You can specify the substring using either `start` + `end` parameters (where end is exclusive) or `start` + `length` parameters. Negative indices are supported for counting from the end of the string.

:::note
The processor uses zero-based indexing where the first character is at position 0. When using `end`, it's exclusive (not included in the result). When using `length`, it specifies how many characters to extract.
:::

The processor handles Unicode characters properly and will not split multi-byte characters. If the specified range exceeds the string boundaries, it extracts only the available portion.

:::warning
If the starting position is beyond the string length or if start > end, the processor will return an empty string. Negative values that exceed the string length will be treated as position 0.
:::

## Examples

### Basic Substring Extraction

<ExampleGrid>
  <CommentCol>
    Extracting characters 5-10 from a string...
  </CommentCol>
  <CodeCol>
    ```json
    {
      "message": "Hello World DataStream"
    }
    ```
    ```yaml
    - substring:
        field: message
        start: 6
        end: 11
        target_field: extracted
    ```
  </CodeCol>
  <CommentCol>
    extracts "World":
  </CommentCol>
  <CodeCol>
    ```json
    {
      "message": "Hello World DataStream",
      "extracted": "World"
    }
    ```
  </CodeCol>
</ExampleGrid>

### Length-based Extraction

<ExampleGrid>
  <CommentCol>
    Extracting 8 characters starting from position 12...
  </CommentCol>
  <CodeCol>
    ```json
    {
      "log_entry": "2024-01-15 DataStream processing started"
    }
    ```
    ```yaml
    - substring:
        field: log_entry
        start: 11
        length: 10
        target_field: component
    ```
  </CodeCol>
  <CommentCol>
    extracts component name:
  </CommentCol>
  <CodeCol>
    ```json
    {
      "log_entry": "2024-01-15 DataStream processing started",
      "component": "DataStream"
    }
    ```
  </CodeCol>
</ExampleGrid>

### Prefix Extraction

<ExampleGrid>
  <CommentCol>
    Extracting first 10 characters as prefix...
  </CommentCol>
  <CodeCol>
    ```json
    {
      "transaction_id": "TXN-2024-01-15-14-30-45-ABC123"
    }
    ```
    ```yaml
    - substring:
        field: transaction_id
        start: 0
        length: 14
        target_field: date_prefix
    ```
  </CodeCol>
  <CommentCol>
    extracts date portion:
  </CommentCol>
  <CodeCol>
    ```json
    {
      "transaction_id": "TXN-2024-01-15-14-30-45-ABC123",
      "date_prefix": "TXN-2024-01-15"
    }
    ```
  </CodeCol>
</ExampleGrid>

### In-place Trimming

<ExampleGrid>
  <CommentCol>
    Trimming string to specific length...
  </CommentCol>
  <CodeCol>
    ```json
    {
      "long_description": "This is a very long description that needs to be shortened for display purposes"
    }
    ```
    ```yaml
    - substring:
        field: long_description
        start: 0
        length: 30
    ```
  </CodeCol>
  <CommentCol>
    trims to 30 characters:
  </CommentCol>
  <CodeCol>
    ```json
    {
      "long_description": "This is a very long descriptio"
    }
    ```
  </CodeCol>
</ExampleGrid>

### URL Path Extraction

<ExampleGrid>
  <CommentCol>
    Extracting path from URL...
  </CommentCol>
  <CodeCol>
    ```json
    {
      "full_url": "https://api.example.com/v1/users/profile"
    }
    ```
    ```yaml
    - substring:
        field: full_url
        start: 22
        target_field: api_path
    ```
  </CodeCol>
  <CommentCol>
    extracts API path:
  </CommentCol>
  <CodeCol>
    ```json
    {
      "full_url": "https://api.example.com/v1/users/profile",
      "api_path": "/v1/users/profile"
    }
    ```
  </CodeCol>
</ExampleGrid>