---
description: Converts Azure Active Directory error codes to human-readable descriptions
sidebar_custom_props: 
  customIcon: ðŸ”‘
  customCategory: Enrich
---

# AAD Error Code

<span className="theme-doc-version-badge badge badge--primary">Enrich</span><span className="theme-doc-version-badge badge badge--secondary">ASIM Compatible</span>

## Synopsis

Converts Azure Active Directory (AAD) error codes to human-readable error descriptions using ASIM lookup logic.

## Schema

```yaml {3}
- aad_errcode:
    description: <text>
    field: <ident>
    target_field: <ident>
    if: <script>
    ignore_failure: <boolean>
    ignore_missing: <boolean>
    on_failure: <processor[]>
    on_success: <processor[]>
    tag: <string>
```

## Configuration

The following fields are used to define the processor:

|Field|Required|Default|Description|
|---|---|---|---|
|`field`|Y||Field containing the AAD error code|
|`target_field`|N|Same as `field`|Field to store the error description|
|`description`|N|-|Explanatory notes|
|`if`|N|-|Condition to run|
|`ignore_failure`|N|`false`|See <Topic id="handling-failures">Handling Failures</Topic>|
|`ignore_missing`|N|`false`|Continue processing if the field is missing|
|`on_failure`|N|-|See <Topic id="handling-failures">Handling Failures</Topic>|
|`on_success`|N|-|See <Topic id="handling-success">Handling Success</Topic>|
|`tag`|N|-|Identifier|

## Details

The processor accepts error codes in various formats (string, integer, float) and converts them to standardized error descriptions. It uses ASIM-compatible error categorization:

- **Authentication failed** - Invalid credentials or authentication errors
- **No such user or password** - User not found or invalid password
- **User locked** - Account locked due to security policies
- **Password expired** - Password needs to be reset
- **User disabled** - Account has been disabled
- **Logon violates policy** - Access blocked by security policies
- **Device not compliant** - Device doesn't meet compliance requirements

If an error code is not recognized, it returns "Unassigned".

:::info
This processor is designed specifically for Azure Active Directory error codes. It may not be suitable for other authentication systems or identity providers.
:::

:::warning
The error code mappings are based on commonly documented AAD error codes. Microsoft may introduce new error codes or change existing ones, which would require updating the processor's lookup table.
:::

## Examples

### Basic Usage

<ExampleGrid>
  <CommentCol>
    Convert a numeric AAD error code...
  </CommentCol>
  <CodeCol>
    ```json
    {
      "error_code": 50126
    }
    ```
    ```yaml
    - aad_errcode:
        field: error_code
    ```
  </CodeCol>
  <CommentCol>
    to a human-readable description:
  </CommentCol>
  <CodeCol>
    ```json
    {
      "error_code": "No such user or password"
    }
    ```
  </CodeCol>
</ExampleGrid>

### Using Target Field

<ExampleGrid>
  <CommentCol>
    Store the description in a separate field...
  </CommentCol>
  <CodeCol>
    ```json
    {
      "aad_error": "50053"
    }
    ```
    ```yaml
    - aad_errcode:
        field: aad_error
        target_field: error_description
    ```
  </CodeCol>
  <CommentCol>
    while preserving the original code:
  </CommentCol>
  <CodeCol>
    ```json
    {
      "aad_error": "50053",
      "error_description": "User locked"
    }
    ```
  </CodeCol>
</ExampleGrid>

### Authentication Errors

<ExampleGrid>
  <CommentCol>
    Common authentication failure codes...
  </CommentCol>
  <CodeCol>
    ```json
    {
      "login_error": 50012
    }
    ```
    ```yaml
    - aad_errcode:
        field: login_error
        target_field: auth_result
    ```
  </CodeCol>
  <CommentCol>
    are mapped to standard descriptions:
  </CommentCol>
  <CodeCol>
    ```json
    {
      "login_error": 50012,
      "auth_result": "Authentication failed"
    }
    ```
  </CodeCol>
</ExampleGrid>

### Password Related Errors

<ExampleGrid>
  <CommentCol>
    Password-related error codes...
  </CommentCol>
  <CodeCol>
    ```json
    {
      "error_id": "50144"
    }
    ```
    ```yaml
    - aad_errcode:
        field: error_id
    ```
  </CodeCol>
  <CommentCol>
    are categorized appropriately:
  </CommentCol>
  <CodeCol>
    ```json
    {
      "error_id": "Password expired"
    }
    ```
  </CodeCol>
</ExampleGrid>

### Conditional Access Errors

<ExampleGrid>
  <CommentCol>
    Conditional access violations...
  </CommentCol>
  <CodeCol>
    ```json
    {
      "access_error": 53000
    }
    ```
    ```yaml
    - aad_errcode:
        field: access_error
        target_field: compliance_status
    ```
  </CodeCol>
  <CommentCol>
    indicate device compliance issues:
  </CommentCol>
  <CodeCol>
    ```json
    {
      "access_error": 53000,
      "compliance_status": "Device not compliant"
    }
    ```
  </CodeCol>
</ExampleGrid>

### B2C Error Codes

<ExampleGrid>
  <CommentCol>
    Entra ID B2C specific errors...
  </CommentCol>
  <CodeCol>
    ```json
    {
      "b2c_error": "AADB2C90118"
    }
    ```
    ```yaml
    - aad_errcode:
        field: b2c_error
        target_field: user_action
    ```
  </CodeCol>
  <CommentCol>
    are also supported:
  </CommentCol>
  <CodeCol>
    ```json
    {
      "b2c_error": "AADB2C90118",
      "user_action": "User password reset requested"
    }
    ```
  </CodeCol>
</ExampleGrid>

### Unknown Error Codes

<ExampleGrid>
  <CommentCol>
    Unrecognized error codes...
  </CommentCol>
  <CodeCol>
    ```json
    {
      "unknown_error": 99999
    }
    ```
    ```yaml
    - aad_errcode:
        field: unknown_error
    ```
  </CodeCol>
  <CommentCol>
    default to "Unassigned":
  </CommentCol>
  <CodeCol>
    ```json
    {
      "unknown_error": "Unassigned"
    }
    ```
  </CodeCol>
</ExampleGrid>
